# Twin Marks AI

**Twin Marks AI** は、従来の2画面ファイラ形式のブックマーク管理に加え、Google Gemini APIを活用した**AI意味検索**、**自動整理**、**宇宙のような可視化**機能を搭載した、次世代のChrome拡張機能です。

![Twin Marks AI Galaxy View](https://i.imgur.com/example-galaxy.png)
*(※ここにスクリーンショットを貼ると効果的です)*

## ✨ 主な機能

### 1. 📂 デュアルペイン管理 (Explorer)
*   **左右2画面分割**: ファイルエクスプローラーのように、フォルダ間でブックマークをドラッグ＆ドロップで直感的に移動できます。
*   **高速検索 & プレビュー**: リアルタイムフィルタリングと、画面下部でのプレビュー表示に対応。

### 2. 🧠 AI意味検索 (AI Search)
*   **ベクトル検索**: 単なるキーワード一致ではなく、ページの内容（意味）に基づいて検索します。「機械学習の勉強」と検索すれば、Pythonや数学のページもヒットします。
*   **関連ページ検索**: 選択したブックマークと内容が似ているページを瞬時にリストアップします。
*   **AI要約**: ページを保存する際、AIが自動的に短い説明文（要約）を生成・付与します。

### 3. 🌌 ナレッジグラフ (Galaxy View)
*   **宇宙のような可視化**: 保存したブックマークを「星」として表示し、関連性の高いページ同士を「星座」のように線で結びます。
*   **インタラクティブ**: ズーム、パン、ドラッグが可能。星をクリックするとページを開き、マウスを乗せるとAIによる説明が表示されます。
*   **カスタマイズ**: 関連度の閾値や線の明るさを調整し、自分だけの知識の宇宙を作れます。

### 4. 🗂️ AI自動整理 (Auto Organize)
*   **ワンクリック整理**: 散らかったブックマークをAIが分析し、内容に基づいて自動的にカテゴライズします。
*   **スマートな命名**: 分類されたフォルダには、AIが適切な日本語のカテゴリ名を自動で付けます（命名ルールの指定も可能）。

---

## 🚀 インストール方法

### 1. 必須環境
*   Node.js (v18以上推奨)
*   Google Gemini API Key (Google AI Studioで取得)

### 2. セットアップ

```bash
# リポジトリのクローン
git clone https://github.com/dma-cmyk/twin-marks-ai.git
cd twin-marks-ai

# 依存関係のインストール
npm install
```

### 3. ビルド

```bash
npm run build
```
ビルドが成功すると、`dist` ディレクトリが生成されます。

### 4. Chromeへの読み込み

1.  ChromeのURLバーに `chrome://extensions/` と入力。
2.  右上の **「デベロッパーモード」** をONにする。
3.  **「パッケージ化されていない拡張機能を読み込む」** をクリック。
4.  このプロジェクト内の `dist` フォルダを選択。

---

## ⚙️ 初期設定 (APIキー)

AI機能を利用するには、Gemini APIキーが必要です。

1.  拡張機能のアイコンをクリック（またはポップアップを開く）。
2.  右上の **設定（歯車アイコン）** をクリック。
3.  **Gemini API Key** を入力し、「Fetch Models」でモデル一覧を取得して保存してください。
    *   推奨モデル: `gemini-1.5-flash` (生成), `embedding-001` (ベクトル化)

---

## 📖 使い方

### ページの登録（分析）
ブラウザで任意のページを開き、**右クリックメニュー** から **「Twin Marksに追加して分析」** を選択します。
AIがページを読み込み、ベクトル化と要約を行ってデータベースに保存します。

### AI検索と可視化
1.  Twin Marksを開き、画面上部のタブを **「AI検索」** に切り替えます。
2.  キーワードを入力して検索するか、Explorerタブでブックマークを選択して「類似を検索」します。
3.  右上の **ネットワークアイコン** をクリックすると、グラフ表示（Galaxy View）に切り替わります。

### 自動整理
1.  「AI検索」タブ右上の **フォルダアイコン** をクリック。
2.  分類したいカテゴリ数（クラスタ数）を指定して「整理を開始」をクリック。
3.  「Twin Marks AI Organized」というフォルダが作成され、その中に整理されたブックマークが保存されます。

---

## 🛠️ 技術スタック

*   **Frontend**: React 19, TypeScript, Tailwind CSS
*   **Build**: Vite (`@crxjs/vite-plugin`)
*   **AI**: Google Gemini API (`@google/generative-ai`)
*   **Vector Logic**: `ml-distance` (Cosine Similarity), `ml-kmeans` (Clustering)
*   **Visualization**: `react-force-graph-2d`
*   **Storage**: IndexedDB (`idb`)

## 📝 ライセンス

[MIT License](LICENSE)